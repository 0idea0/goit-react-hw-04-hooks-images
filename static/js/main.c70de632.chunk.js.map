{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Spinner/Spinner.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/Spinner/Spinner.js","services/apiServices.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","searchQuery","handleChange","event","currentTarget","name","value","setState","handleSubmit","preventDefault","props","onSubmit","this","className","s","Searchbar","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","modalContent","id","onItemClick","webformatURL","src","alt","ImageGalleryItem_image","onClick","ImageGallery","handleOpenModal","e","target","images","map","image","modalRoot","document","getElementById","Modal","handleBackdropClick","onBackdrop","content","createPortal","Overlay","Button","onPress","defaultProps","Spinner","color","height","width","fetchImages","page","fetchUrl","fetch","then","res","json","App","useState","setModalContent","setSearchQuery","setPage","visibleImages","setVisibleImages","isLoading","setIsLoading","openModal","setOpenModal","useEffect","getData","a","data","hits","window","scrollTo","top","documentElement","scrollHeight","behavior","console","error","toggleModal","isNotLastPage","length","btnEnable","query","itemId","element","find","largeImageURL","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c70de632.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1tGcm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AFek\",\"Modal\":\"Modal_Modal__bSOUx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__IqgJy\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__zyUIa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1P09s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Spinner_Spinner__ujvw2\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './SearchBar.module.css';\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    searchQuery: '',\n  };\n\n  handleChange = event => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { searchQuery } = this.state;\n    this.props.onSubmit(searchQuery);\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button_label}>Search</span>\n          </button>\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            name=\"searchQuery\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={searchQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './ImageGalleryItem.module.css';\n\nclass ImageGalleryItem extends Component {\n  static propTypes = {\n    onItemClick: PropTypes.func.isRequired,\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n  };\n\n  modalContent = id => {\n    this.props.onItemClick(id);\n  };\n  render() {\n    const { id, webformatURL } = this.props;\n    return (\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className={s.ImageGalleryItem_image}\n        onClick={() => this.modalContent(id)}\n      />\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    onItemClick: PropTypes.func.isRequired,\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n      }),\n    ).isRequired,\n  };\n\n  handleOpenModal = e => {\n    if (e.target !== e.currentTarget) {\n      this.props.onClick();\n    }\n  };\n\n  render() {\n    const { images, onItemClick } = this.props;\n    return (\n      <ul className={s.ImageGallery} onClick={this.handleOpenModal}>\n        {images &&\n          images.map(image => (\n            <li key={image.id} className={s.ImageGalleryItem}>\n              <ImageGalleryItem {...image} onItemClick={onItemClick} />\n            </li>\n          ))}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.getElementById('modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    onBackdrop: PropTypes.func.isRequired,\n    content: PropTypes.string.isRequired,\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onBackdrop();\n    }\n  };\n\n  render() {\n    const { content } = this.props;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={content} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\n\nclass Button extends Component {\n  static defaultProps = {\n    name: 'Load more',\n  };\n  static propTypes = {\n    name: PropTypes.string,\n    onPress: PropTypes.func.isRequired,\n  };\n  render() {\n    const { onPress, name } = this.props;\n    return (\n      <button type=\"button\" onClick={onPress} className={s.Button}>\n        {name}\n      </button>\n    );\n  }\n}\n\nexport default Button;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\n\nimport s from './Spinner.module.css';\n\nclass Spinner extends Component {\n  render() {\n    return (\n      <div className={s.Spinner}>\n        <Loader type=\"Puff\" color=\"#00BFFF\" height={50} width={50} />\n      </div>\n    );\n  }\n}\n\nexport default Spinner;\n","const api = '24008986-b9e59c87644741a78fcf9dc58';\nconst url = 'https://pixabay.com/api/?';\n\nconst fetchImages = (searchQuery, page) => {\n  const fetchUrl = `${url}q=${searchQuery}&page=${page}&key=${api}&image_type=photo&orientation=horizontal&per_page=12`;\n  return fetch(fetchUrl).then(res => res.json());\n};\n\nexport default fetchImages;\n","import React, { useState, useEffect } from 'react';\n\nimport SearchBar from './components/SearchBar/SearchBar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button/Button';\nimport Spinner from './components/Spinner/Spinner';\n\nimport fetchImages from './services/apiServices';\n\nimport './App.css';\n\nexport default function App() {\n  const [modalContent, setModalContent] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [visibleImages, setVisibleImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [openModal, setOpenModal] = useState(false);\n\n  useEffect(() => {\n    if (!searchQuery) return;\n\n    const getData = async () => {\n      setIsLoading(true);\n\n      try {\n        const data = await fetchImages(searchQuery, page);\n        setVisibleImages(visibleImages => [...visibleImages, ...data.hits]);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      } catch (e) {\n        console.error(e);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getData();\n  }, [searchQuery, page]);\n\n  const toggleModal = () => {\n    setOpenModal(openModal => !openModal);\n  };\n\n  const handleChangeQuery = query => {\n    setSearchQuery(query);\n    setPage(1);\n    setVisibleImages([]);\n  };\n\n  const handleNextPage = () => {\n    setPage(page => page + 1);\n  };\n\n  const modalContentSet = itemId => {\n    const element = visibleImages.find(({ id }) => id === itemId);\n    setModalContent(element.largeImageURL);\n  };\n\n  const isNotLastPage = visibleImages.length / page === 12;\n  const btnEnable = visibleImages.length > 0 && !isLoading && isNotLastPage;\n  return (\n    <div className=\"App\">\n      <SearchBar onSubmit={handleChangeQuery} />\n\n      <ImageGallery\n        images={visibleImages}\n        onClick={toggleModal}\n        onItemClick={modalContentSet}\n      />\n\n      {openModal && <Modal content={modalContent} onBackdrop={toggleModal} />}\n      {isLoading && <Spinner />}\n\n      {btnEnable && <Button name=\"Load more\" onPress={handleNextPage} />}\n    </div>\n  );\n}\n\n//export default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2_dp4\",\"SearchForm\":\"SearchBar_SearchForm__3aOch\",\"SearchForm_button\":\"SearchBar_SearchForm_button__3K43-\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2GNHu\",\"SearchForm_input\":\"SearchBar_SearchForm_input__1-Wib\"};"],"sourceRoot":""}